# 1. Install AWS CLI
curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
unzip awscliv2.zip
sudo ./aws/install

# 2. Configure AWS CLI
aws configure
# Provide:
# - Access Key ID
# - Secret Access Key
# - Region: ap-south-1
# - Output Format: text

# 3. Create an S3 Bucket via CLI
aws s3api create-bucket --bucket your-bucket-name --region ap-south-1 --create-bucket-configuration LocationConstraint=ap-south-1

# 4. Upload a file to the bucket
aws s3 cp demo.txt s3://your-bucket-name/

# 5. List Buckets
aws s3api list-buckets

# 6. List contents of the bucket
aws s3 ls s3://your-bucket-name/

# 7. Create a CloudFront Distribution
# In AWS Console:
# - Go to CloudFront → Create Distribution
# - Origin domain → select your-bucket-name
# - Origin access → Create Origin Access Control (OAC)
# - Web Application Firewall (WAF) → Do not enable
# - Create distribution

# 8. Change S3 Bucket Policy
# In AWS Console:
# - Go to S3 → your-bucket-name → Permissions → Bucket Policy → Edit
# Paste this (replace your-bucket-name & distribution ID):

{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "AllowCloudFrontAccessOnly",
      "Effect": "Allow",
      "Principal": {
        "Service": "cloudfront.amazonaws.com"
      },
      "Action": "s3:GetObject",
      "Resource": "arn:aws:s3:::your-bucket-name/*",
      "Condition": {
        "StringEquals": {
          "AWS:SourceArn": "arn:aws:cloudfront::YOUR_ACCOUNT_ID:distribution/YOUR_DISTRIBUTION_ID"
        }
      }
    }
  ]
}

# 9. Access file in browser
# - Copy CloudFront Domain: e.g., https://d123abc.cloudfront.net
# - Open: https://d123abc.cloudfront.net/demo.txt











AIzaSyBWu7cTNXhQreg2hAPyoRd2QA_1r2UOJEk
